generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                String   @id @default(cuid())
  email             String   @unique
  name              String?
  passwordHash      String
  resetToken        String?
  resetTokenExpiry  DateTime?
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  role              String   @default("user")
  account_id        String?
  account           Account? @relation(fields: [account_id], references: [account_id])
}

model PasswordResetToken {
  id        String   @id @default(uuid())
  email     String
  token     String   @unique
  expires   DateTime
  createdAt DateTime @default(now())
}

/// Company account model
model Account {
  /// Internal numeric sequence to ensure uniqueness and easy increment
  accountSeq     Int      @id @default(autoincrement())
  /// Public 7-digit zero-padded account identifier
  account_id     String?  @unique
  company_name   String
  company_domain String
  owner_email    String
  created_at     DateTime @default(now())
}
